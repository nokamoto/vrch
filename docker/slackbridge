FROM openjdk:8u131-jdk

COPY slackbridge/target/scala-2.11/slackbridge-assembly-0.1-SNAPSHOT.jar /slackbridge.jar

ENV SLACK_URL https://slack.com

ENV SLACK_TOKEN default

ENV SLACK_CHANNEL default

ENV GRPC_HOST localhost

ENV GRPC_PORT 80

ENV GCP_API_KEY default

ENV FIREBASE_ADMIN_SDK_JSON ""

ENV FIREBASE_ADMIN_SDK_URL https://

ENV FIREBASE_STORAGE_BUCKET ""

CMD java\
    -Dslack.url=${SLACK_URL}\
    -Dslack.token=${SLACK_TOKEN}\
    -Dslack.channel=${SLACK_CHANNEL}\
    -Dgrpc.host=${GRPC_HOST}\
    -Dgrpc.port=${GRPC_PORT}\
    -Dgrpc.apikey=${GCP_API_KEY}\
    -Dfirebase.adminsdk.json=${FIREBASE_ADMIN_SDK_JSON}\
    -Dfirebase.adminsdk.url=${FIREBASE_ADMIN_SDK_URL}\
    -Dfirebase.storage.bucket=${FIREBASE_STORAGE_BUCKET}\
    -jar /slackbridge.jar
