FROM openjdk:8u131-jdk

COPY slackbridge/target/scala-2.11/slackbridge-assembly-0.1-SNAPSHOT.jar /slackbridge.jar

ENV SLACK_URL https://slack.com

ENV SLACK_TOKEN default

ENV SLACK_CHANNEL default

ENV VRCH_HOST localhost

ENV VRCH_PORT 80

ENV VRCH_CONTEXT ""

ENV GCP_API_KEY default

CMD java\
    -Dslack.url=${SLACK_URL}\
    -Dslack.token=${SLACK_TOKEN}\
    -Dslack.channel=${SLACK_CHANNEL}\
    -Dvrch.host=${VRCH_HOST}\
    -Dvrch.port=${VRCH_PORT}\
    -Dvrch.context=${VRCH_CONTEXT}\
    -Dgcp.apikey=${GCP_API_KEY}\
    -jar /slackbridge.jar
